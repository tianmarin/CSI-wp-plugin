jQuery(document).ready(function($){var t=csiTemplateProjectRequest.ajaxUrl;$("a[href*=#]").on("click",function(t){$("html,body").animate({scrollTop:$(this.hash).offset().top},500),t.preventDefault()}),$("input[type=date]").datepicker({dateFormat:"yy-mm-dd",showButtonPanel:!0,closeText:"Cerrar",currentText:"Now"}),$("#project_request_form form").submit(function(n){var o=$(this);n.preventDefault();var r=!0;if($(this).find(':input[type!="hidden"]').not(":input[type=button], :input[type=submit], :input[type=reset]").each(function(){$(this).data("required")===!0&&(""===$(this).val()||0===$(this).val())&&($(this).parent().parent().addClass("has-error"),r=!1),"true"===$(this).data("validation")&&($.isNumeric($(this).data("validation-min"))&&$(this).data("validation-min")>=$(this).val()&&($(this).parent().parent().addClass("has-warning"),r=!1),$.isNumeric($(this).data("validation-max"))&&$(this).data("validation-max")<=$(this).val()&&($(this).parent().parent().addClass("has-warning"),r=!1),$.isNumeric($(this).data("validation-maxchar"))&&$(this).data("validation-maxchar")<=$(this).length()&&($(this).parent().parent().addClass("has-warning"),r=!1))}),!0===r){var s=$(this).find(":input[type=submit]");s.button("loading"),o.addClass("loading");var i=new FormData;i.append("action","csi_new_project_request"),$(this).find("input, select").each(function(){i.append($(this).attr("name"),$(this).val())}),window.console.log(i),$.ajax({url:t,type:"POST",data:i,cache:!1,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){},success:function(t){return s.button("reset"),window.console.log(JSON.stringify(t)),o.removeClass("loading"),"0"===JSON.stringify(t)?(a(),!1):void(!0===t.error?$.alert({buttons:{error:{text:"OK",btnClass:"btn-danger"}},closeIcon:!0,columnClass:"large",content:t.message,title:"Error",type:"red"}):$.alert({buttons:{ok:{text:"OK",btnClass:"btn-success",action:function(){o.fadeOut(),e(),$("html,body").animate({scrollTop:$("#user-project-request-status").offset().top},500)}}},closeIcon:!0,columnClass:"large",content:t.message,title:"OK",type:"green"}))},error:a})}else $.alert("no es valida la wea")});var e=function(){var e=new FormData;e.append("action","csi_user_project_request_status"),$.ajax({url:t,type:"POST",data:e,cache:!1,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){},success:function(t){return window.console.log(JSON.stringify(t)),"0"===JSON.stringify(t)?(a(),!1):void(!0===t.error||$("#user-project-request-status table tbody").html(t.message))},error:a})};e();var a=function(e,a,n){var o="";window.console.log(typeof e),"undefined"!=typeof e&&(o=0===e.status?"Not connect.\n Verify Network.":404===e.status?"Requested page not found. [404]":500===e.status?"Internal Server Error [500].":"parsererror"===a?"Requested JSON parse failed.":"timeout"===a?"Time out error.":"abort"===a?"Ajax request aborted.":"Uncaught Error.\n"+e.responseText),window.console.log("ERROR: "),window.console.log(e),window.console.log(a+" - "+n);var r="Este error de conexión con el servidor de fondo, regularmente indica que no has iniciado sesión en Wordpress.<br/>";window.console.log(t);var s=t.replace("admin-ajax.php","");r=r+"Intenta <strong><a href='"+s+"'>iniciar sesi&oacute;n</a></strong>. En caso que esto no funcione, por favor contacta al adminsitrador.",r=r+"<code>"+o+"</code>";var i="Error de conexión as&iacute;ncrona";$.alert({buttons:{heyThere:{text:"OK",btnClass:"btn-danger"}},closeIcon:!0,columnClass:"large",content:r,title:i,type:"red"})}});